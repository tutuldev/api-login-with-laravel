<!-- api login--->


1.use in user model
use Laravel\Santum\HasApiTokens;

pase in user mig:
  public function up(): void
    {
        Schema::create('users', function (Blueprint $table) {
            $table->id();
            $table->string('name');
            $table->string('email')->unique();
            $table->string('password');
            $table->rememberToken();
            $table->timestamps();
        });
    }

now create post migration:
php artisan make:migration create_posts_table

2. create api file:
php artisan install:api
and then migrate

3. User mode:
use Laravel\Sanctum\HasApiTokens;
use HasFactory, Notifiable,HasApiTokens;
and remove " 'email_verified_at' => 'datetime'," form cast

4.make api controller:
php artisan make:controller API/AuthController
php artisan make:model Post
<!-- --api means resouse controller api  -->
php artisan make:controller Api/PostController --api

post model:
use HasFactory;
    protected $fillable = [
        'title','description','image'
    ];

now make controller code:signup
public function signup(Request $request){
        $validateUser= Validator::make(
            $request->all(),
            [
                     'name'=>'required',
                     'email'=> 'required|email|unique:users,email',
                     'password'=>'required',
                    ]
            );
            if($validateUser->fails()){
                return response()->json([
                    'status'=>false,
                    'message'=>'Validation Error',
                    'error'=> $validateUser->errors()->all()
                ],401);
            }
            $user = User::create([
                'name'=>$request->name,
                'email'=>$request->email,
                'password'=>$request->password,
            ]);
            return response()->json([
                'status'=>true,
                'message'=>'User Created Successfully',
                'user'=>$user,
            ],200 );
    }

route:
Route::post('signup',[AutController::class, 'signup']);

for login:


login route:
Route::post('login',[AutController::class, 'login']);
